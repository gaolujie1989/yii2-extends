<?php

namespace lujie\amazon\advertising\api;

use Yii;
use Iterator;

/**
* This class is autogenerated by the OpenAPI gii generator
* @description Brand Metrics provides a new measurement solution that quantifies opportunities for your brand at each stage of the customer journey on Amazon, and helps brands understand the value of different shopping engagements that impact stages of that journey. You can now access Awareness and Consideration indices that compare your performance to peers using models predictive of consideration and sales. Brand Metrics quantifies the number of customers in the awareness and consideration marketing funnel stages and is built at scale to measure all shopping engagements with your brand on Amazon, not just ad-attributed engagements. Additionally, BM breaks out key shopping engagements at each stage of the shopping journey, along with the Return on Engagement, so you can measure the historical sales following a consideration event or purchase.
*/
class BrandMetricsV3 extends \lujie\amazon\advertising\BaseAmazonAdvertisingClient
{

                
    /**
     * @description Fetch the location and status of the report for the brands for which the metrics are available. The URL to the report is only available when the status of the report is SUCCESSFUL.

**Requires one of these permissions**:
["advertiser_campaign_edit","advertiser_campaign_view","nemo_report_edit","nemo_report_view"]     * @tag Report
     * @param string $reportId The report Id to be fetched.
     * @return array
     *      - *reportId* - string
     *          - The identifier of the report.
     *      - *brandsInfo* - array
     *          - List of first 200 brands for which the Brand Metrics report is generated. The report may contain more than 200 brands. This list is only populated with brands if the Brand Metrics are available for the brands that an advertiser has access to.
     *      - *format* - string
     *          - Format of the report.
     *      - *statusDetails* - string
     *          - A human-readable description of the current status.
     *      - *location* - string
     *          - The URI address of the report. Only available if the report is generated successfully. The location is empty if the Brand Metrics are not available or if the report is not generated successfully.
     *      - *expiration* - integer
     *          - The expiration time of the URI in the location property in milliseconds. The expiration time is the interval between the time the response was generated and the time the URI expires.
     *      - *status* - string
     *          - The build status of the report.
     */
    public function getBrandMetricsReport(string $reportId, string $contentType = 'application/vnd.insightsbrandmetrics.v1+json'): array
    {
        return $this->api("/insights/brandMetrics/report/{$reportId}", 'GET', [], ['content-type' => $contentType, 'accept' => $contentType]);
    }
                    
    /**
     * @description Generates the Brand Metrics report in CSV or JSON format. Customize the report by passing a specific categoryTreeName, categoryPath, brandName, reportStartDate, reportEndDate, lookbackPeriod, format or a list of metrics from the available metrics in the metrics field. If an empty request body is passed, report for the latest available report date in JSON format will get generated with all the available brands and metrics for an advertiser. The report may or may not contain the Brand Metrics data for one or more brands depending on data availability.

**Requires one of these permissions**:
["advertiser_campaign_edit","nemo_report_edit"]     * @tag Report
     * @param array $data Create request body to generate the Brand Metrics Report.
     *      - *brandName* - string
     *          - Optional. Brand Name. If no Brand Name is passed, then all data available for all brands belonging to the entity are retrieved.
     *      - *reportStartDate* - string
     *          - Optional. Retrieves metrics with metricsComputationDate between reportStartDate and reportEndDate (inclusive). The maximum allowed date range for report generation is 3 months. The date will be in the Coordinated Universal Time (UTC) timezone in YYYY-MM-DD format. If both reportStartDate and reportEndDate are passed and the range is greater than 3 months, the reportStartDate will be adjusted to a date 3 months from the reportEndDate. If no date is passed in reportStartDate, all available metrics from metricsComputationDate of 3 months before the reportEndDate will be provided. If no date is passed for either reportStartDate or reportEndDate, the metrics with the most recent metricsComputationDate will be returned.
     *      - *categoryTreeName* - string
     *          - Optional. The node at the top of a browse tree. It is the start node of a tree.
     *      - *lookBackPeriod* - string
     *          - Currently supported values: "1w" (one week), "1m" (one month) and  "1cm" (one calendar month). This defines the period of time used to determine the number of shoppers in the metrics computation.
     *      - *categoryPath* - array
     *          - Optional. The hierarchical path that leads to a node starting with the root node. If no Category Node Name is passed, then all data available for all brands belonging to the entity are retrieved.
     *      - *format* - string
     *          - Format of the report.
     *      - *metrics* - array
     *          - Optional. Specify an array of string of metrics field names to include in the report. If no metric field names are specified, all metrics are returned.
     *      - *reportEndDate* - string
     *          - Optional. Retrieves metrics with metricsComputationDate between reportStartDate and reportEndDate (inclusive). The maximum allowed date range for report generation is 3 months. The date will be in the Coordinated Universal Time (UTC) timezone in YYYY-MM-DD format. If both reportStartDate and reportEndDate are passed and the range is greater than 3 months, the reportStartDate will be adjusted to a date 3 months from the reportEndDate. If no date is passed in reportEndDate, all available metrics till metricsComputationDate of 3 months after the reportStartDate will be provided. If no date is passed for either reportStartDate or reportEndDate, the metrics with the most recent metricsComputationDate will be returned.
     * @return array
     *      - *reportId* - string
     *          - The identifier of the report.
     *      - *format* - string
     *          - Format of the report.
     *      - *statusDetails* - string
     *          - A human-readable description of the current status.
     *      - *location* - string
     *          - The URI address of the report.
     *      - *expiration* - integer
     *          - The expiration time of the URI in the location property in milliseconds. The expiration time is the interval between the time the response was generated and the time the URI expires.
     *      - *status* - string
     *          - The build status of the report.
     */
    public function generateBrandMetricsReport(array $data, string $contentType = 'application/vnd.insightsbrandmetrics.v1+json'): array
    {
        return $this->api("/insights/brandMetrics/report", 'POST', $data, ['content-type' => $contentType, 'accept' => $contentType]);
    }
    
}
